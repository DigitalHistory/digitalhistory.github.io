<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Popcorn/Oral History</title>
<meta name="author" content="Matt Price"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="../../vendor/reveal//css/reveal.css"/>

<link rel="stylesheet" href="../../vendor/reveal//css/theme/matt.css" id="theme"/>

<link rel="stylesheet" href=""/>
<link rel="stylesheet" href="../../vendor/reveal//lib/css/zenburn.css"/>
<link rel="stylesheet" href="https://sandbox.hackinghistory.ca/vendor/klipse/codemirror.css"/>
<style>
 
.reveal section pre { max-height: 70vh; height: auto; overflow: auto; }
 
.reveal section pre .CodeMirror pre { font-size: 2em; box-shadow: none; width: auto; padding: 0.4em; display: block; overflow: visible; }
 
.CodeMirror-cursor { border-left: 3px solid black; }
</style>
<script>
    window.klipse_settings = {
        selector: '.language-klipse',
        selector_eval_html: '.language-klipse-html',
        selector_eval_js: '.language-klipse-javascript',
        selector_eval_js: '.language-klipse-js',
        selector_eval_php: '.language-klipse-php',
        selector_eval_python_client: '.language-klipse-python',
        selector_eval_ruby: '.language-klipse-ruby',
        selector_eval_scheme: '.language-klipse-scheme',
        selector_sql: '.language-klipse-sql'
    };
</script>


<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '../../vendor/reveal//css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1>Popcorn/Oral History</h1>
<h3>Matt Price  </h3>


</section>
<section>
<section id="slide-org99a84cf">
<h2 id="org99a84cf">Taking Stock</h2>
<form><ul>
<li>The End is Nigh!!</li>
<li>Assignment 4: Lara has Returned it!</li>
<li>Assignment 5: Required for <b>everyone</b> (!!)</li>

</ul></form>
</section>
</section>
<section>
<section id="slide-org99cae12">
<h2 id="org99cae12">Oral History Assignment</h2>
<form><ul>
<li>intellectual goal: think hard about <b>nature of oral history</b>, and <b>how to use digital media effectively</b></li>
<li>technical goal: think more about working with non-textual media, about HTML structures, and about APIs (monsters in the deep)</li>

</ul></form>
</section>
</section>
<section>
<section id="slide-orgce5a0ff">
<h2 id="orgce5a0ff">Before we go further!</h2>
<p>
Copy my upstream repo so you can play w/ up to date code during class today. 
</p>
<pre  class="example">
git clone https://github.com/DigitalHistory/advanced-topics.git
</pre>


</section>
</section>
<section>
<section id="slide-repo-update-37fdds">
<h2 id="repo-update-37fdds">What the heck is this?</h2>
<form><ul>
<li><b>Popcorn</b>: media "events" framework for audio &amp; video annotation
<form><ul>
<li>developed by Mozilla for about 5 years before it was orphaned.</li>
<li>perhaps being revivified</li>
<li>keeps track of media playback, and renders specified web content between start and end timecodes.</li>
<li>for us: turns <b>audio file</b> into a kind of <b>imovie-style slideshow</b> except that the "slides" are arbitrary web content instead of photos.</li>
<li>in particular, can include google maps, wikipeida pages, and some other types of content.</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-popcorn-framework-e5ca">
<h2 id="popcorn-framework-e5ca">Popcorn framework</h2>
<form><ul>
<li>Library-Plugin framework
<form><ul>
<li>main library tracks media element, renders content</li>
<li>plugins generate html to feed to main</li>
<li>every "event" (or "slide") is generated by <b>calling a plugin</b> with a JS object as parameter.  cf. <b><a href="https://github.com/DigitalHistory/advanced-topics/blob/master/js/popcorn-data-from-google.js#L42">line 42 of popcorn-data-from-google.js</a></b> to see how this works</li>

</ul></form></li>

</ul></form>
<aside class="notes">
<p>
we don't have to worry about the main library
</p>

<p>
<b>basically no coding to do o nthis assignment!</b>
</p>
<form><ul>
<li>focus on markdown skills, google sheet</li>

</ul></form>

</aside>
</section>
</section>
<section>
<section id="slide-plugin-structure-2f5b">
<h2 id="plugin-structure-2f5b">Plugin Structure</h2>
<pre><code class="language-klipse-javascript" >
pop.footnote({
  start: 50,
  end: 90,
  text: "Second Footnote!",
  target: "popcorn-container"
});
</code></pre>
<aside class="notes">
<form><ul>
<li>plugins define a method of the main popcorn object</li>
<li>each plugin has its own required and optional parameters, which you can read about in the docs</li>

</ul></form>

</aside>

</section>
</section>
<section>
<section id="slide-google-sheets-1f77">
<h2 id="google-sheets-1f77">Google sheets: API Power</h2>
<p>
Line 16 in <a href="https://github.com/DigitalHistory/advanced-topics/blob/master/js/popcorn-data-from-google.js#L16">js/~popcorn-data-from-google.js</a>:
</p>
<pre><code class="language-klipse-javascript" >
var public_spreadsheet_key = &#39;https://docs.google.com/spreadsheets/d/1pL_Lj62_ZcW7iawTCQ_5BQsmdynCtC8y5BCNy3k2LOM/pubhtml?gid=0&amp;single=true&#39;;
</code></pre>
<form><ul>
<li>uses Google JSON API, which represents each spreadsheet row as a JSON object</li>
<li>column headers as property names</li>
<li>script iterates through rows &amp; invokes appropriate popcorn plugin for each row, w/ column values as plugin parameter properties</li>
<li>if you use some other plugin that I haven't mentioned, you may need to add a column!</li>
<li><b>YOU DON'T HAVE TO DO THE PROGAMMING WORK</b> &#x2013; managed for you</li>

</ul></form>

</section>
</section>
<section>
<section id="slide-repo-update-32309428">
<h2 id="repo-update-32309428">Tabletop: small interpreter demon</h2>
<form><ul>
<li>Google Spreadsheets API speaks a Byzantine language of Hell</li>
<li>Tabletop lets you speak simple JS</li>
<li>cf <a href="https://github.com/jsoma/tabletop#1-publishing-your-google-sheet">very clear and helpful Tabletop instructions</a> and also <a href="https://github.com/DigitalHistory/advanced-topics/blob/master/js/popcorn-data-from-google.js#L21">line 21</a> in popcorn-data-from-google.js:</li>

</ul></form>
<pre><code class="language-klipse-js" >
var mytables = Tabletop.init( { key: public_spreadsheet_key,
                                callback: processInfo ,
                                simpleSheet: false } );
</code></pre>

</section>
</section>
<section>
<section id="slide-repo-update-37330908fdsa">
<h2 id="repo-update-37330908fdsa">Getting Started: First, Copy Spreadsheet</h2>
<form><ul>
<li>go to my sheet: <a href="https://docs.google.com/spreadsheets/d/1pL_Lj62_ZcW7iawTCQ_5BQsmdynCtC8y5BCNy3k2LOM/edit#gid=0">https://docs.google.com/spreadsheets/d/1pL_Lj62_ZcW7iawTCQ_5BQsmdynCtC8y5BCNy3k2LOM/edit#gid=0</a></li>
<li><code>File</code> &#x2013;&gt; <code>Make a copy</code></li>
<li>Under <code>File</code> &#x2013;&gt; <code>Publish to the web</code>, make sure yr sheet is published</li>
<li><b>NOT DONE YET!</b></li>
<li>go to "Share" and "Copy Link to Share"</li>
<li><b>this is your new key!!!!</b></li>
<li>insert into your js file</li>

</ul></form>
</section>
</section>
<section>
<section id="slide-repo-update-3733lk;zxf">
<h2 id="repo-update-3733lk;zxf">(other way) Spreadsheet URL</h2>
<pre><code class="language-klipse-javascript" >
var public_spreadsheet_key = &#39;https://docs.google.com/spreadsheets/d/1pL_Lj62_ZcW7iawTCQ_5BQsmdynCtC8y5BCNy3k2LOM/pubhtml?gid=0&amp;single=true&#39;;
</code></pre>
<form><ul>
<li>Replace <b>ONLY THE PART BTWN <i>d</i> and /pubhtml</b> with the spreadsheet "key" from yr new sheet</li>

</ul></form>
</section>
</section>
<section>
<section id="slide-repo-update-37332l3j4">
<h2 id="repo-update-37332l3j4">Run server</h2>
<div class="org-src-container">

<pre><code class=" sh" >cd advanced-topics-yr-name
npm install 
npm run server &amp;
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-repo-update-3733ksljfd">
<h2 id="repo-update-3733ksljfd">Open in browser</h2>
<div class="org-src-container">

<pre><code class=" sh" >firefox localhost:8080/oral-history
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-repo-update-3733slkzvb">
<h2 id="repo-update-3733slkzvb">use DevTools to look for errors</h2>

<figure>
<img src="../../ox-hugo/console.png" alt="console.png">

</figure>
</section>
</section>
<section>
<section id="slide-repo-update-3733sklkjf">
<h2 id="repo-update-3733sklkjf">Error Sources</h2>
<form><ul>
<li>bad spreadsheet URL</li>
<li>bad time codes etc. in spreadsheet</li>
<li>JS syntax errors in <code>popcorn-data-from-google.js</code></li>
<li>JS syntax errors in <code>index.html</code></li>

</ul></form>
</section>
</section>
<section>
<section id="slide-orgce24a6d">
<h2 id="orgce24a6d">Good and Less Good Annotations</h2>
<form><ul>
<li>Add context/info</li>
<li>clarify</li>
<li>Comment</li>

</ul></form>
</section>
</section>
<section>
<section id="slide-seek-function-a7fd">
<h2 id="seek-function-a7fd">"Seek" function</h2>
<pre><code class="language-klipse-javascript" >
var seek = function (time) {
 document.getElementById("media").currentTime= time;
 };

</code></pre>

<p>
<code>&lt;a href="javascript:seek(75)"&gt;seek to 1:15&lt;/a&gt;</code>
</p>

</section>
</section>
<section>
<section id="slide-orgfde7488">
<h2 id="orgfde7488"></h2>
</section>
</section>
</div>
</div>
<script src="../../vendor/reveal//lib/js/head.min.js"></script>
<script src="../../vendor/reveal//js/reveal.js"></script>
<script>


Reveal.initialize({

controls: true,
progress: true,
history: true,
center: false,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,

overview: true,
width: "100%",
height: "100%",
margin: 0.10,
minScale: 1.00,
maxScale: 1.00,

theme: Reveal.getQueryHash().theme, 
transition: Reveal.getQueryHash().transition || 'convex', 
transitionSpeed: 'default',


dependencies: [
{src: '../../vendor/reveal//plugin/klipse_reveal.js'},
 { src: '../../vendor/reveal//lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: '../../vendor/reveal//plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../../vendor/reveal//plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../../vendor/reveal//plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
 { src: '../../vendor/reveal//plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: '../../vendor/reveal//plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]

});
</script>
<script src="https://sandbox.hackinghistory.ca/vendor/klipse/klipse_plugin.min.js"></script>
<script>


Reveal.addEventListener( 'slidechanged', function( event ) {
    window.dispatchEvent( new Event('resize') );
} );
</script>
</body>
</html>
